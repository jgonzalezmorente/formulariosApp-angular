<h2>Reactivos: <small>Din√°micos</small></h2>
<hr>

<form (ngSubmit) = "guardar()" autocomplete = "off" [formGroup] = "miFormulario">

      <!-- Nombre -->
      <div class = "mb-3 row">
        <label class = "col-sm-3 col-form-label">Nombre</label>
        <div class = "col-sm-9">            
            
            <input type            = "text"
                   class           = "form-control"
                   formControlName = "nombre"
                   placeholder     = "Nombre de la persona">

            <span class = "form-text text-danger"
                  *ngIf = "campoEsValido('nombre')">
                Este campo es obligatorio
            </span>
        </div>
    </div>

    <!-- Agregar Favorito -->
    <div class = "mb-3 row">
        <label class = "col-sm-3 col-form-label">Agregar</label>
        <div class = "col-sm-9">
            <div class = "input-group">
                <input class         = "form-control"
                       [formControl] = "nuevoFavorito" 
                       placeholder   = "Agregar favorito"
                       (keyup.enter) = "agregarFavorito()">

                <button class   = "btn btn-outline-primary"
                        type    = "button"
                        (click) = "agregarFavorito()">
                    Agregar
                </button>
            </div>
        </div>
    </div>

    <!-- Lista de juegos favoritos -->
    <div class = "mb-3 row">
        <label class = "col-sm-3 col-form-label">Favoritos</label>
        <div class = "col-sm-9" formArrayName="favoritos">
            <div class  = "input-group mb-1"
                 *ngFor = "let favorito of favoritosArr.controls; let i = index"> 
                <input class             = "form-control"
                       [formControlName] = "i">
                <button class   = "btn btn-outline-danger"
                        type    = "button"
                        (click) = "borrar(i)">
                   Eliminar
               </button>
            </div>
        </div>
    </div>    

    <div class = "row">
        <div class = "col-12">
            <button type  = "submit"
                    class = "btn btn-primary float-end">
                Guardar
            </button>
        </div>
    </div>

</form>


<div class = "row">
    <div class="col">
        <span>Valid</span>
        <pre>{{ miFormulario.valid }}</pre>

        <span>Pristine</span>
        <pre>{{ miFormulario.pristine }}</pre>

        <span>Touched</span>
        <pre>{{ miFormulario.touched }}</pre>

        <span>Valor</span>
        <pre>{{ miFormulario.value | json }}</pre>

        <span>Agregar Juego</span>
        <pre>{{ nuevoFavorito.value }}</pre>        
        <pre>{{ nuevoFavorito.valid }}</pre>

    </div>
</div>

